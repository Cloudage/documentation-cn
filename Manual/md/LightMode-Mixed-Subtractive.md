# Subtractive 模式

__Subtractive__ 模式是由场景中所有混合光源共用的一种光照模式。要将 Mixed lighting 设置为 __Subtractive__，请打开 Lighting 窗口（菜单：__Window__ > __Lighting__ > __Settings__），单击 __Scene__ 选项卡，导航至 __Mixed Lighting__，然后将 __Lighting Mode__ 设置为 __Subtractive__。请参阅[混合光照](LightMode-Mixed.html)相关文档以了解有关此光照模式的更多信息，并参阅[光照模式](LightModes.html)相关文档以了解有关其他可用模式的更多信息。

__Subtractive__ 是唯一将直接光照烘焙到光照贴图中并丢弃 Unity 用于在其他混合光照模式下合成动态和静态阴影的信息的混合光照模式。由于光照已烘焙到光照贴图中，因此 Unity 无法在运行时执行任何直接光照计算。

在 __Subtractive__ 模式下：

* 静态游戏对象根本不显示混合光源中的任何镜面高光或光泽高光。除了主方向光，它们也不能接受动态游戏对象投射的任何阴影（有关此内容的更多信息，请参阅下面的段落）。

* 动态游戏对象接受实时阴影并支持光泽反射。但是，它们只能通过[光照探针](LightProbes.html)接受静态游戏对象投射的阴影。

在 __Subtractive__ 模式下，主方向光（通常为太阳）是唯一将动态游戏对象的实时阴影投射到静态游戏对象上的光源。从静态游戏对象投射到其他静态游戏对象的阴影将烘焙到光照贴图中，即使对于主光源也是如此，因此 Unity 无法保证烘焙阴影和实时阴影的正确合成。因此，__Subtractive__ 模式有一个 [Realtime Shadow Color](https://docs.google.com/document/d/1SEkozSX298iM6N1MONyss8IA2B5rtrfTStE72Tul2Y0/edit) 字段。Unity 在着色器中使用此颜色将实时阴影与烘焙阴影进行合成。为此，它会减少光照贴图在动态游戏对象投射的阴影区域中的效果。因为引擎不能预先确定正确值，所以如何选择适用于给定场景的值取决于您自己的审美选择。

适合使用 __Subtractive__ 模式的一个很好的例子是，您想要构建一个具有室外关卡和极少数动态游戏对象的卡通风格 (cel-shaded) 游戏。

## 阴影

下表显示了使用 __Subtractive__ 模式时静态和动态游戏对象如何投射和接受阴影：

| | __动态阴影接受者<br/>__从另一个静态或动态游戏对象接受阴影的动态游戏对象 |  | __静态阴影接受者<br/>__从另一个静态或动态游戏对象接受阴影的静态游戏对象||
|:---|:---|:---|:---|:---| 
| | 在阴影距离内 | 超出阴影距离 | 在阴影距离内 | 超出阴影距离 |
| __动态阴影投射物<br/>__投射阴影的动态游戏对象| 阴影贴图 | - | 主光源阴影贴图 | -|
| __静态阴影投射物<br/>__投射阴影的静态游戏对象| 光照探针 | 光照探针 | 光照贴图 | 光照贴图 |



## Subtractive 模式的优缺点

鉴于 __Subtractive__ 模式的性能要求，该模式非常适合以低端移动设备为目标的构建。__Subtractive__ 模式最主要的优缺点如下：

### 优点

* 在光照贴图中的静态游戏对象之间提供高质量阴影，无需额外的性能要求。

* 着色器中的一个纹理操作即可处理静态游戏对象之间的所有光照和阴影。

* 提供间接光照。

### 缺点

* 不提供实时直接光照，因此不提供镜面反射光照。

* 除了一个方向光（主光源）外，不会在静态游戏对象上提供动态阴影。

* 仅通过光照探针提供从静态游戏对象到动态游戏对象上的低分辨率阴影。

* 提供不准确的动态和静态阴影合成。

* 增加了光照贴图纹理集的内存要求（与无光照贴图的情况下相比）。

---

* <span class="page-edit"> 2017-06-08  Page published with limited [editorial review](DocumentationEditorialReview.html)
</span>

* <span class="page-history">在 5.6 版中添加了“光照模式”</span>

